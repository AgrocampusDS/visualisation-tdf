---
title: "Graph 2"
output: html_document
date: "2022-11-14"
---

#importation + gestion dates

```{r}
tdf=read.csv('C:/Users/BOUADDOUCH Najia/Documents/Projet visu/stages_TDF.csv',sep=';')
tdf$Date <- as.Date(tdf$Date, format = "%Y-%m-%d")
#plot(tdf$Distance~tdf$Date)

```
petit problème sur les types :

```{r}
library(dplyr)
types= tdf$Type %>%
  unique()
```

On se limite à 5 types : boucle pour remplacer un par un les types 

```{r}
flat=c('Flat','Flat stage','Flat Stage','Half Stage','Plain stage','Plain stage with cobblestones',"Flat cobblestone stage" )
hilly=c('Hilly','Hilly stage','Transition stage','Half Stage','Intermediate stage')
mountain=c('Mountain',"High mountain stage","Medium mountain stage","Mountain Stage" ,"Stage with mountain(s)" ,"Mountain stage" ,"Stage with mountain")
ind_timetrial=c('ind_timetrial',"Mountain time trial","Individual time trial")
team_timetrial=c('team_timetrial',"Team time trial")
type=list(flat,hilly,mountain,ind_timetrial,team_timetrial)
for (i in 1:length(tdf$Type)) {
  
  for (k in type) {
    if (tdf$Type[i]%in% k) {
      tdf$Type[i]=k[1]
      
    }
  }
  
  
  
}


unique(tdf$Type)
```

Courbes :

```{r}
library(ggplot2)
ggplot(tdf, aes(x = Date, y = Distance)) + 
  geom_line(aes(color = Type, linetype = Type))  

```

Courbes lissées : 

```{r}
qplot(tdf$Date,tdf$Distance, geom='smooth', span =0.5, color=tdf$Type)
```




